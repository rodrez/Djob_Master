{% extends '_base.html' %}
{% load pages_filters %}
{% load static %}

{% block content %}

    <main class="flex-grow">
        <section class="relative">
            <div class="relative max-w-4xl mt-10 mx-auto px-4 sm:px-6 rounded shadow bg-gray-100 dark:bg-gray-800">
                <div class="pt-10 pb-12 md:pb-20">
                    <div class="max-w-3xl mx-auto">
                        <article>
                            <header class="mb-8">
                                <div class="md:text-left">
                                    <h1 class="h1 font-red-hat-display dark:text-gray-200 text-gray-600 mb-4"
                                        data-aos="fade-down">
                                        {{ job.job_title }}
                                    </h1>
                                    <div class="flex items-center justify-left"
                                         data-aos="fade-down"
                                         data-aos-delay="300">

                                        <div class="">
                                            <span class="text-gray-600 dark:text-gray-400">
                                                Company &bull; </span>
                                            <a class="font-semibold text-gray-800 dark:text-gray-200 hover:underline"
                                               href="#0">{{ job.company }}
                                            </a>
                                        </div>
                                        <a href="#0">
                                            <img class="rounded-full flex-shrink-0 ml-2 bg-contain"
                                                 src="{{ job.company_logo.url }}"
                                                 width="36"
                                                 height="36"
                                                 alt="{{ job.company }}"/>
                                        </a>
                                    </div>
                                </div>
                                <div class="md:flex md:items-center md:justify-between">
                                    <div class="flex items-center justify-left" data-aos="fade-down"
                                         data-aos-delay="300">
                                            <span class="text-gray-600 dark:text-gray-400 r-0">
                                                Location &bull;
                                                <span class="font-semibold text-gray-800 dark:text-gray-200">{{ job.location }}</span>
                                            </span>
                                    </div>
                                    <div>
                                        <span class="text-gray-600 dark:text-gray-400 r-0">
                                            Posted &bull;
                                            <span class="font-semibold text-gray-800 dark:text-gray-300">{{ job.days_posted|timesince|upto:',' }} ago </span>
                                        </span>
                                    </div>
                                </div>

                                <div class="mt-4 text-center justify-center my-auto">
                                    <a class="p-2 px-8 rounded bg-violet-500 font-semibold text-gray-100"
                                       href="{{ job.apply }}">
                                        Apply Now
                                    </a>
                                </div>


                            </header>

                            <div class="text-lg text-gray-600 dark:text-gray-400"
                                 data-aos="fade-up"
                                 data-aos-delay="450">
                                <div>
                                    <br>
                                    <p class="font-semibold"><span
                                            class="dark:text-gray-200">Salary Range: </span>{{ job.salary_range }}</p>
                                    <br>
                                    <div id="djob_job_summary">
                                        <p><span
                                                class="font-semibold dark:text-gray-200">Job Summary:</span><br> {{ job.job_summary|safe }}
                                        </p><br>
                                    </div>
                                    <div id="djob_job_min_reqs">
                                        <p><span
                                                class="font-semibold dark:text-gray-200">Minimum Requirements:</span><br>{{ job.minimum_requirements|safe }}
                                        </p>
                                    </div>
                                    <br>
                                    <div id="djob_job_pref_reqs">
                                        <p><span class="font-semibold dark:text-gray-200">Preferred Requirements:</span><br>{{ job.preferred_requirements|safe }}
                                        </p>
                                    </div>
                                    <br>
                                    <div id="djob_job_benefits">
                                        <p><span
                                                class="font-semibold dark:text-gray-200">Benefits:</span><br>{{ job.benefits|safe }}
                                        </p><br>
                                    </div>
                                </div>
                                <div class="">
                                    <div class="mt-4 text-center justify-center ">
                                        <a class="p-2 px-8 bg-violet-500 rounded font-medium text-gray-100"
                                           href="{{ job.apply }}">
                                            Apply Now
                                        </a>
                                    </div>
                                    <br/>
                                </div>
                            </div>

                            <footer>
                                <div
                                        class="bg-gray-200 dark:bg-gray-700 rounded py-8 px-8 md:py-12 md:px-12 text-center text-gray-100"
                                        data-aos="fade-down">
                                    <div class="text-xl font-medium mb-6">
                                        Sign up to our newsletter for more articles like this.
                                    </div>
                                    <form>
                                        <div class="relative flex flex-col sm:flex-row justify-center max-w-xs mx-auto sm:max-w-sm sm:px-4">
                                            <input
                                                    type="email"
                                                    class="form-input w-full px-4 py-2 mb-2 sm:mb-0 sm:mr-2"
                                                    placeholder="Your email"
                                                    aria-label="Your email"
                                            />
                                            <a
                                                    class="btn-sm text-white bg-teal-500 hover:bg-teal-400 flex-shrink-0"
                                                    href="#0"
                                            >Subscribe</a
                                            >
                                            <svg
                                                    class="hidden sm:block absolute left-full -mt-3"
                                                    width="42"
                                                    height="44"
                                                    viewBox="0 0 42 44"
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    aria-hidden="true"
                                            >
                                                <path
                                                        class="fill-current text-gray-600"
                                                        d="M6.226 39.073l9.71 2.172-.436 1.951-13.436-3.004-1.735-.388 1.232-1.281 9.545-9.923 1.441 1.387-6.898 7.171 7.737-2.329C25.946 29.254 34.831 17.909 40.043.71l1.914.58c-5.378 17.746-14.651 29.572-27.818 35.393l-.117.043-7.796 2.347z"
                                                />
                                            </svg>
                                        </div>
                                        <p class="text-sm text-gray-400 italic mt-3">
                                            No spam. No ads. Only great content.
                                        </p>
                                    </form>
                                </div>
                            </footer>
                        </article>
                    </div>
                </div>
            </div>
        </section>
        {% include  'djob_jobs/related_jobs.html' %}
    </main>

    <script>

        var job_summ = document.getElementById('djob_job_summary').getElementsByTagName('ul')[0];
        var job_min_reqs = document.getElementById('djob_job_min_reqs').getElementsByTagName('ul')[0];
        var job_pref_reqs = document.getElementById('djob_job_pref_reqs').getElementsByTagName('ul')[0];
        var job_benefits = document.getElementById('djob_job_benefits').getElementsByTagName('ul')[0];

        var arr = [job_summ, job_min_reqs, job_pref_reqs, job_benefits];
        console.log(arr)
        for (var i = 0; i < arr.length; i++) {
            if (arr[i]) {
                arr[i].classList.add("list-disc");
                arr[i].classList.add("list-inside");
            }
        }

    </script>

{% endblock content %}
